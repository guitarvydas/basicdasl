diagram {
  Diagrams = Diagram+
  Diagram = componentName Inputs Outputs Body

  componentName = "[" ident "]"
  Inputs = "<" input*
  Outputs = "<" output*
  Body = "{" InternalConnection? BodyElement+ "}"
  EndPoint = ComponentName "." PortName
  portName = "(" ident ")"
  ident = identChar*
  identChar = ~separator any
  separator = newline | "(" | ")" | "[" | "]" | "<" | ">" | end
  newline = "\n"
}
